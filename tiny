# ==============================================================================
# 🎯 산업경영공학과 직업 추천 시스템
# 이 코드는 사용자의 선호도(전공, 성향, 학점)를 바탕으로 가장 적합한 직업을 추천합니다.
# ==============================================================================

# 1. 전공 목록: 산업경영공학과 핵심 과목
majors = [
    "창의적공학설계", "기술경영개론", "객체지향프로그래밍", "경제성공학", "공급사슬관리", "데이터베이스", "기초경영과학", 
    "생산운영관리", "실험계획법", "인간공학", "경영정보시스템", "경영과학응용", "설비관리", "의사결정론", 
    "빅데이터분석", "캡스톤디자인", "제품개발론"
]

# 2. 성향 목록: 산업경영공학에 필요한 주요 성향
trait_list = [
    "분석적 성향", "논리적 사고", "시스템적 사고", "문제 해결 능력", "데이터 기반 의사결정", "창의적 사고", 
    "대인 커뮤니케이션 및 협업", "실행력", "메이킹"
]

# 3. 직업 정보: 제공하신 모든 직업에 대해 산업공학적 관점에서 재분석 및 업데이트
careers = {
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 💰 경영 컨설턴트 (Management Consultant): 기업 문제 해결 및 전략 제시
    "경영 컨설턴트": {
        "majors": ["경영과학응용", "의사결정론", "기술경영개론", "생산운영관리"],
        "traits": ["논리적 사고", "분석적 성향", "시스템적 사고", "대인 커뮤니케이션 및 협업"],
        "cert": ["ADsP", "경영지도사"] 
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 📦 물류 관리 전문가 (Logistics Specialist): 물류 및 공급망 효율화
    "물류 관리 전문가": {
        "majors": ["공급사슬관리", "기초경영과학", "생산운영관리", "데이터베이스"],
        "traits": ["시스템적 사고", "분석적 성향", "문제 해결 능력", "실행력"],
        "cert": ["물류관리사", "CPIM(국제자격증)"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 💡 변리사 (IP/기술 특허 관리): (산업공학 관점: 기술 경영 및 제품 개발 지식 활용)
    "변리사": { 
        "majors": ["기술경영개론", "제품개발론", "창의적공학설계", "경제성공학"],
        "traits": ["논리적 사고", "창의적 사고", "분석적 성향"],
        "cert": ["변리사 시험 (필수)", "기술거래사"] 
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # ⚙️ 산업공학기술자 (Industrial Engineer): 생산 시스템 및 작업 환경 개선
    "산업공학기술자": {
        "majors": ["생산운영관리", "인간공학", "설비관리", "창의적공학설계"],
        "traits": ["문제 해결 능력", "실행력", "시스템적 사고", "메이킹"],
        "cert": ["산업안전기사", "공장관리기술사"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🏭 산업관리원 (Production Manager): 제조 현장 생산 및 프로세스 관리
    "산업관리원": { 
        "majors": ["생산운영관리", "설비관리", "인간공학", "공급사슬관리"],
        "traits": ["시스템적 사고", "실행력", "대인 커뮤니케이션 및 협업"],
        "cert": ["생산성경영체제(PMS) 인증", "ERP 정보관리사(생산)"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 📊 생산관리 사무원 (Production Planning & Control): 계획 수립 및 자원 배분
    "생산관리사무원": { 
        "majors": ["생산운영관리", "기초경영과학", "공급사슬관리", "의사결정론"],
        "traits": ["분석적 성향", "논리적 사고", "문제 해결 능력"],
        "cert": ["ERP 정보관리사(생산)", "CPIM"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🚨 연구실 안전전문가 (Risk Management/EHS): (산업공학 관점: 산업 안전 및 인간공학적 위험 관리)
    "연구실 안전전문가": { 
        "majors": ["인간공학", "실험계획법", "생산운영관리"],
        "traits": ["문제 해결 능력", "시스템적 사고", "분석적 성향"],
        "cert": ["산업안전기사", "위험관리 전문가(CRM)"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🌍 온실가스 인증심사원 (Sustainability/EHS): (산업공학 관점: 친환경 생산 및 경제성 분석)
    "온실가스 인증심사원": { 
        "majors": ["경제성공학", "생산운영관리", "경영과학응용"],
        "traits": ["분석적 성향", "데이터 기반 의사결정", "논리적 사고"],
        "cert": ["온실가스 관리 산업기사", "에너지관리기사"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 📦 자재 관리 사무원 (Inventory & Material Control): 재고 및 자재 흐름 관리
    "자재관리사무원": { 
        "majors": ["공급사슬관리", "생산운영관리", "기초경영과학", "데이터베이스"],
        "traits": ["시스템적 사고", "실행력", "논리적 사고"],
        "cert": ["물류관리사", "ERP 정보관리사(물류)"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🖥️ 정보시스템 운영자 (Information System Operator): MIS/IT 시스템 운영 및 관리
    "정보시스템운영자": {
        "majors": ["경영정보시스템", "데이터베이스", "객체지향프로그래밍", "빅데이터분석"],
        "traits": ["논리적 사고", "데이터 기반 의사결정", "문제 해결 능력", "분석적 성향"],
        "cert": ["정보처리기사", "SQLD"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 📊 컴퓨터시스템분석가 (Computer Systems Analyst): 기업 IT 시스템 설계 및 최적화
    "컴퓨터시스템분석가": {
        "majors": ["경영정보시스템", "객체지향프로그래밍", "빅데이터분석", "의사결정론"],
        "traits": ["분석적 성향", "논리적 사고", "시스템적 사고", "대인 커뮤니케이션 및 협업"],
        "cert": ["정보처리기사", "PMP(프로젝트 관리 전문)"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🔬 품질 관리 사무원 (Quality Control/Assurance): 제품 및 프로세스 품질 관리
    "품질관리사무원": { 
        "majors": ["실험계획법", "생산운영관리", "기초경영과학", "빅데이터분석"],
        "traits": ["분석적 성향", "논리적 사고", "데이터 기반 의사결정"],
        "cert": ["품질경영기사", "6시그마 자격"]
    },
    # ------------------------------------------------------------------------------------------------------------------------------------------
    # 🌟 품질인증심사전문가 (Quality Auditor): 시스템 및 프로세스 표준 준수 감사/인증
    "품질인증심사전문가": { 
        "majors": ["실험계획법", "생산운영관리", "의사결정론"],
        "traits": ["분석적 성향", "논리적 사고", "시스템적 사고", "대인 커뮤니케이션 및 협업"],
        "cert": ["품질경영기사", "ISO 9001 심사원 자격"]
    }
}

# ------------------------------------------------
# 이하 코드는 기존과 동일하게 유지됩니다.
# (가중치 입력, 사용자 선호도 입력, calculate_score 함수, 결과 출력)
# ------------------------------------------------

# ------------------------------------------------
# 가중치 사용자 입력
# ------------------------------------------------
print("\n### 가중치 입력 (0~1 사이 값 입력) ###")
try:
    user_major_w = float(input("전공 선호도 가중치 (예: 0.4): "))
    user_trait_w = float(input("성향 가중치 (예: 0.4): "))
    user_a_grade_w = float(input("A0 이상 과목 가중치 (예: 0.2): "))
except ValueError:
    print("잘못된 입력입니다. 숫자를 입력해 주세요. 기본값으로 설정합니다.")
    user_major_w, user_trait_w, user_a_grade_w = 0.4, 0.4, 0.2

# 합계를 1로 정규화
total = user_major_w + user_trait_w + user_a_grade_w
if total == 0: total = 1.0 
WEIGHT_MAJOR = user_major_w / total
WEIGHT_TRAIT = user_trait_w / total
WEIGHT_A_GRADE = user_a_grade_w / total

print(f"\n→ 정규화된 가중치: 전공 {WEIGHT_MAJOR:.2f}, 성향 {WEIGHT_TRAIT:.2f}, A0 {WEIGHT_A_GRADE:.2f}")

# ------------------------------------------------
# 사용자 입력 (선호도, 성향, A0 과목)
# ------------------------------------------------
print("\n### 전공 선호도 입력(1~5점) ###")
major_scores = {}
for m in majors:
    while True:
        try:
            score = int(input(f"'{m}' 선호도 (1~5): "))
            if 1 <= score <= 5:
                major_scores[m] = score
                break
            else:
                print("1에서 5 사이의 숫자를 입력해 주세요.")
        except ValueError:
            print("숫자를 입력해 주세요.")

print("\n### 성향 입력 ###")
print("가능한 성향:", ", ".join(trait_list))
traits_input = input("당신의 성향을 쉼표로 입력 (예: 분석적 성향, 논리적 사고): ")
traits = [t.strip() for t in traits_input.split(",") if t.strip() in trait_list] 

print("\n### A0 이상 받은 과목 입력 ###")
print("전공 목록:", ", ".join(majors))
a_grade_input = input("A0 이상 과목을 쉼표로 입력 (정확한 과목명 사용): ")
a_grade = [a.strip() for a in a_grade_input.split(",") if a.strip() in majors] 

# ------------------------------------------------
# 📊 점수 계산 함수 (가장 쉬운 방식)
# ------------------------------------------------
def calculate_score(career_info):
    score = 0
    required_majors = career_info["majors"] 
    required_traits = career_info["traits"] 
    
    # 1) 전공 선호도 점수
    major_score_sum = sum(major_scores.get(m, 0) for m in required_majors) 
    average_major_score = major_score_sum / len(required_majors) if required_majors else 0
    score += average_major_score * WEIGHT_MAJOR

    # 2) 성향 점수
    trait_match_count = len(set(traits) & set(required_traits)) 
    trait_match_rate = trait_match_count / len(required_traits) if required_traits else 0
    score += trait_match_rate * WEIGHT_TRAIT

    # 3) A0 이상 과목 점수
    a_match_count = len(set(a_grade) & set(required_majors)) 
    a_match_rate = a_match_count / len(required_majors) if required_majors else 0
    score += a_match_rate * WEIGHT_A_GRADE

    return score 

# ------------------------------------------------
# 💯 추천 결과 계산 및 출력
# ------------------------------------------------
results = {name: calculate_score(info) for name, info in careers.items()}
sorted_results = sorted(results.items(), key=lambda x: x[1], reverse=True)

print("\n" + "="*40)
print("              🎯 추천 결과")
print("="*40)

if sorted_results:
    best_job, best_score = sorted_results[0]
    best_info = careers[best_job]
    
    print(f"\n✨ 최종 추천 직업: **{best_job}** (점수: {best_score:.3f})")
    print("-" * 25)
    print("✅ 관련 핵심 전공:", ", ".join(best_info["majors"]))
    print("💡 필요 성향:", ", ".join(best_info["traits"]))
    print("📜 추천 자격증:", ", ".join(best_info["cert"]))
else:
    print("\n추천 결과를 계산할 수 없습니다. 직업 정보를 확인해 주세요.")

print("\n🔥 추천 직업 TOP 3")
for i, (job, score) in enumerate(sorted_results[:3]):
    print(f"{i+1}. {job}: {score:.3f}")

print("\n📊 전체 직업 점수")
for job, score in sorted_results:
    print(f"- {job}: {score:.3f}")
